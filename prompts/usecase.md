# 유스케이스 명세서 (Use Case Specification)

> 이 문서는 `docs/prd.md`의 사용자 스토리를 기반으로, 각 기능의 상세한 성공 및 실패 시나리오를 정의합니다. 이 문서는 `docs/test-cases.md` 작성의 직접적인 기반이 됩니다.

> **⚠️ 중요:** 이 템플릿을 사용할 때는 반드시 프로젝트의 실제 데이터 복잡도를 고려해야 합니다. 본 프로젝트는 4개의 CSV 파일(department_kpi.csv, publication_list.csv, research_project_data.csv, student_roster.csv)과 각 파일당 수십 개의 컬럼을 포함하는 복잡한 데이터 구조를 다룹니다. 따라서 각 유스케이스 명세 작성 시 다음을 고려해야 합니다:
> - **데이터 파일 다양성:** 4개 파일 유형별로 서로 다른 데이터 구조와 검증 규칙이 존재함
> - **컬럼 복잡도:** 각 파일당 수십 개의 컬럼으로 인한 다양한 검증 시나리오 필요
> - **관계성 데이터:** 학과, 연도, 과제번호 등 데이터 간 관계를 고려한 비즈니스 로직 필요
> - **크로스 필드 검증:** 단일 컬럼 검증 외에도 여러 컬럼 간의 일관성 검증이 필요함 (예: 총계 = 합계, 집행금액 ≤ 총연구비 등)
> - **집계 및 조회 복잡도:** 학과별, 연도별, 저널등급별 등 다양한 필터링 및 집계 요구사항 반영

---

## UC-01: 사용자 로그인

-   **Related User Story:** US-001: 로그인
-   **Actor:** 관리자 (Administrator)
-   **Preconditions (사전 조건):**
    -   사용자는 시스템에 로그인되어 있지 않은 상태이다.
    -   유효한 관리자 계정이 데이터베이스에 존재한다.
-   **Main Success Scenario (주요 성공 시나리오):**
    1.  사용자가 로그인 페이지에 접속한다.
    2.  사용자가 자신의 아이디와 비밀번호를 정확히 입력한다.
    3.  사용자가 '로그인' 버튼을 클릭한다.
    4.  시스템은 사용자 자격 증명을 검증하고 인증에 성공한다.
    5.  시스템은 사용자를 대시보드 페이지로 리디렉션한다.
-   **Extensions (예외/대안 흐름):**
    -   **3a. 잘못된 자격 증명:**
        1.  사용자가 잘못된 아이디 또는 비밀번호를 입력하고 '로그인' 버튼을 클릭한다.
        2.  시스템은 자격 증명 검증에 실패한다.
        3.  시스템은 "아이디 또는 비밀번호가 일치하지 않습니다." 라는 오류 메시지를 표시한다. 유스케이스는 여기서 종료된다.
    -   **3b. 필수 정보 미입력:**
        1.  사용자가 아이디 또는 비밀번호를 입력하지 않고 '로그인' 버튼을 클릭한다.
        2.  시스템은 클라이언트 측에서 유효성을 검사하고 실패한다.
        3.  시스템은 비어있는 입력 필드 하단에 "필수 입력 항목입니다." 라는 오류 메시지를 표시한다. 유스케이스는 여기서 종료된다.

---

## UC-02: 엑셀 데이터 업로드

-   **Related User Story:** US-002: 데이터 업로드
-   **Actor:** 관리자 (Administrator)
-   **Preconditions (사전 조건):**
    -   사용자는 시스템에 관리자로 로그인되어 있다.
-   **Main Success Scenario (주요 성공 시나리오):**
    1.  사용자가 데이터 업로드 기능이 있는 페이지로 이동한다.
    2.  사용자가 '파일 선택' 버튼을 클릭하고 유효한 형식(.xlsx)과 내용을 가진 엑셀 파일을 선택한다.
    3.  시스템은 파일을 성공적으로 업로드하고, 내부 데이터를 파싱하여 유효성을 검증한다.
    4.  시스템은 파싱된 데이터를 데이터베이스에 저장한다.
    5.  시스템은 사용자에게 "업로드 및 데이터 처리가 성공적으로 완료되었습니다." 라는 성공 메시지를 표시한다.
-   **Extensions (예외/대안 흐름):**
    -   **2a. 잘못된 파일 형식:**
        1.  사용자가 지원하지 않는 형식(.csv, .pdf 등)의 파일을 선택한다.
        2.  시스템은 파일 형식을 검증하고 실패한다.
        3.  시스템은 "지원하지 않는 파일 형식입니다. (.xlsx 파일만 가능)" 이라는 오류 메시지를 표시한다. 유스케이스는 여기서 종료된다.
    -   **3a. 데이터 유효성 검증 실패:**
        1.  사용자가 형식은 맞지만 내부 데이터에 오류(예: 숫자 필드에 문자 입력)가 있는 엑셀 파일을 업로드한다.
        2.  시스템은 파일을 업로드하고 파싱하지만, 데이터 유효성 검증 단계에서 실패한다.
        3.  시스템은 사용자에게 "데이터 처리 중 오류가 발생했습니다. 파일 내용을 확인해주세요." 라는 오류 메시지와 함께 실패 원인을 간략히 제공한다. 유스케이스는 여기서 종료된다.
    -   **3b. 네트워크 오류:**
        1.  파일 업로드 중 사용자의 네트워크 연결이 끊긴다.
        2.  시스템은 파일 업로드에 실패한다.
        3.  시스템은 사용자에게 "네트워크 오류로 업로드에 실패했습니다." 라는 메시지를 표시한다. 유스케이스는 여기서 종료된다.

